# MMNA Launch Token & Crowdsale Token

1. Чтобы установить зависимости нужно выполнить в терминале команду
   `yarn install`

2. Подготовка
   2.1 Сначала прописать адрес, с которого будет осуществляться деплой в файле .env-example (DEPLOYER_ADDRESS)
   Этот адрес будет владельцем токена и краудсейла.
   2.2 Переименовать файл .env-example в .env
   2.3 Прописать сид-фразу кошелька деплоера в файле secrets.json (есть пример secrets.example.json)

3. Чтобы выложить контракты токена и краудсейл в Testnet сети Polygon
   3.1 Выполните через терминал скрипт деплоя в тестнет:
   `npx hardhat run --network mumbai .\scripts\deploy.ts`
   3.2 Контракты будут верифицированы и доступны по адресу в сканере https://mumbai.polygonscan.com/
   3.3 После деплоя будет создан тестовый токен USDT. Его адрес появится в консоли. Его можно наминтить сколько угодно без ограничений

4. Управление краудсейлом
   Управление краудсейлом будет удобно организовано через сайт и будет открываться если авторизоваться от имени владельца
   4.1 Для того чтобы начать краудсейл, необходимо вызвать функцию init передав цены для каждого раунда
   4.2 Для переключения раунда необходимо вызвать функцию switchRound. При её вызове раунд будет переключен на следующий если выполнено условие окончания текущего раунда.
   4.3 После того, как завершился 3-й раунд, можно забрать на адрес владельца все нераспроданные токены вызвав функцию collectUnsoldTokensAndWithdrawUsdt
   4.4 Для того чтобы добавить адрес в белый список для 1-го раунда необходимо вызвать функцию addToFirstRoundWhitelist
   4.5 Для того чтобы инициализировать белый список для 2-го раунда, необходимо записать в него корень дерева Меркла, который будет сгенерирован бэкэндом
5. Чтобы выложить контракты токена и краудсейл в Mainnet сети Polygon
   3.1 Укажите актуальный адрес контракта USDT в сети Polygon
   3.2 Выполните через терминал скрипт деплоя в тестнет:
   `npx hardhat run --network polygon .\scripts\deployProd.ts`
